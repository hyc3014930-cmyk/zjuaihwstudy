import{c as I,r as i,j as t,L as be,P as ee,A as H,Z as qe,R as ve,a as Ze,B as ce,b as Xe,d as Je,C as Qe,e as et}from"./index-BVMFY-bU.js";import{c as te,i as U,a as ye,s as je,D as ae,b as Ne,d as tt,Z as re,L as se,u as we,e as at,f as rt,g as q,h as Pe,j as ne,k as Se,l as ke,m as Ee,n as st,o as nt,p as lt,q as ue,r as it,t as Ie,v as Ce,R as ot,S as dt,w as ct,x as _e,y as ut,z as xt,A as mt,B as pt,G as ht,C as ft,E as Ae,F as xe,H as gt,J as bt,I as M,K as vt,M as yt,N as jt,O as Nt,P as wt,Q as Pt,T as Oe,U as De,X as Le,Y as Te,V as Re,W as Z}from"./CartesianChart-BWqktXea.js";/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],me=I("battery",St);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],$e=I("code",kt);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],It=I("leaf",Et);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],_t=I("lock-open",Ct);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ot=I("lock",At);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],X=I("recycle",Dt);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tt=I("save",Lt);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$t=I("settings",Rt);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Wt=I("trash-2",Mt);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],J=I("trending-up",zt);var _=(e=>(e.HEAD_ONLY="HEAD_ONLY",e.TWO_STEP="TWO_STEP",e))(_||{}),P=(e=>(e.STRUCTURE="STRUCTURE",e.TRAINING="TRAINING",e.LR_SCHEDULER="LR_SCHEDULER",e.CONCEPTS="CONCEPTS",e))(P||{});const V=[{label:"Battery",cn:"ç”µæ± ",category:"Hazardous",cnCat:"æœ‰å®³åƒåœ¾",icon:me,color:"text-red-600",ring:"ring-red-200",border:"border-red-500",bg:"bg-red-50"},{label:"Banana Peel",cn:"é¦™è•‰çš®",category:"Wet",cnCat:"æ¹¿åƒåœ¾",icon:It,color:"text-amber-700",ring:"ring-amber-200",border:"border-amber-500",bg:"bg-amber-50"},{label:"Cans",cn:"æ˜“æ‹‰ç½",category:"Recyclable",cnCat:"å¯å›æ”¶ç‰©",icon:X,color:"text-blue-600",ring:"ring-blue-200",border:"border-blue-500",bg:"bg-blue-50"},{label:"Seashell",cn:"è´å£³",category:"Dry",cnCat:"å¹²åƒåœ¾",icon:Wt,color:"text-slate-600",ring:"ring-slate-200",border:"border-slate-500",bg:"bg-slate-50"},{label:"Paint bucket",cn:"æ²¹æ¼†æ¡¶",category:"Hazardous",cnCat:"æœ‰å®³åƒåœ¾",icon:me,color:"text-red-600",ring:"ring-red-200",border:"border-red-500",bg:"bg-red-50"},{label:"Newspaper",cn:"æŠ¥çº¸",category:"Recyclable",cnCat:"å¯å›æ”¶ç‰©",icon:X,color:"text-blue-600",ring:"ring-blue-200",border:"border-blue-500",bg:"bg-blue-50"}],Bt=()=>{const[e,a]=i.useState(!0),[r,s]=i.useState(!1),[n,l]=i.useState(0),[o,c]=i.useState(V[0]),d=()=>{if(r)return;const x=V[Math.floor(Math.random()*V.length)];c(x),s(!0),l(1)};i.useEffect(()=>{if(r&&n>0&&n<5){const x=setTimeout(()=>{l(p=>p+1)},1200);return()=>clearTimeout(x)}else n===5&&(s(!1),l(0))},[r,n]);const u=[{num:1,code:"def construct(self, x):",indent:0},{num:2,code:"# 1. MindSpore Preprocess",indent:1},{num:3,code:"x = (x - mean) / std  # Normalization",indent:1,highlight:n===1},{num:4,code:"# 2. Frozen Backbone",indent:1},{num:5,code:"features = self.backbone(x) # 1280 dims",indent:1,highlight:n===2},{num:6,code:"# 3. Fine-tuned Head",indent:1},{num:7,code:"logits = self.head(features) # 26 classes",indent:1,highlight:n===3},{num:8,code:"return argmax(logits)",indent:1,highlight:n===4}];return t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-8",children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(be,{className:"w-6 h-6 text-indigo-600"}),"MobileNetV2 æ¨ç†æ¼”ç¤º"]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:d,disabled:r,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition-all ${r?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-emerald-600 text-white hover:bg-emerald-700 shadow-sm"}`,children:[t.jsx(ee,{className:"w-4 h-4"})," å¼€å§‹æ¨ç† (Inference)"]}),t.jsx("div",{className:"h-6 w-px bg-slate-300 mx-2"}),t.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:[t.jsx("button",{onClick:()=>a(!0),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"å†»ç»“ Backbone"}),t.jsx("button",{onClick:()=>a(!1),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${e?"text-slate-500 hover:text-slate-700":"bg-white text-indigo-600 shadow-sm"}`,children:"è§£å†» Backbone"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 flex flex-col md:flex-row items-center justify-center gap-4 relative py-12 bg-slate-50/50 rounded-xl border border-slate-100 min-h-[300px]",children:[t.jsxs("div",{className:`flex flex-col items-center gap-2 transition-all duration-300 ${n===1?"scale-110":"opacity-80"}`,children:[t.jsxs("div",{className:`w-24 h-24 bg-white rounded-xl border-2 border-dashed border-slate-300 flex flex-col items-center justify-center text-slate-500 overflow-hidden relative shadow-sm
                    ${n===1?"ring-4 ring-emerald-100 border-emerald-500":""}
                `,children:[t.jsx(o.icon,{className:`w-8 h-8 mb-1 ${o.color}`}),t.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:o.cn})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("span",{className:`block text-xs font-mono font-bold ${n===1?"text-emerald-600":"text-slate-400"}`,children:"Input Image"}),n===1&&t.jsx("span",{className:"text-[10px] text-emerald-500",children:"224x224 RGB"})]})]}),t.jsx(H,{className:`text-slate-300 transition-colors duration-300 ${n===1?"text-emerald-500":""}`}),t.jsxs("div",{className:`relative w-48 h-32 rounded-xl border-2 flex flex-col items-center justify-center transition-all duration-500 ${e?"bg-sky-50 border-sky-200":"bg-orange-50 border-orange-200"} ${n===2?"ring-4 ring-emerald-100 scale-105 shadow-xl z-10":""}`,children:[t.jsxs("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1 border border-slate-100 rounded-full shadow-sm",children:["Backbone",e?t.jsx(Ot,{className:"w-3 h-3 text-sky-500"}):t.jsx(_t,{className:"w-3 h-3 text-orange-500"})]}),t.jsx("span",{className:`text-base font-bold ${e?"text-sky-700":"text-orange-700"}`,children:"MobileNetV2"}),t.jsx("span",{className:"text-[10px] text-slate-500 mt-1 bg-white/50 px-2 rounded",children:"1280 Feature Map"}),n===2&&t.jsx("div",{className:"absolute inset-0 overflow-hidden rounded-xl",children:t.jsx("div",{className:"absolute top-0 left-0 h-full w-2 bg-white/60 blur-md animate-[scan_1.2s_ease-in-out_infinite]",style:{animationName:"slide"}})})]}),t.jsx(H,{className:`text-slate-300 transition-colors duration-300 ${n===2?"text-emerald-500":""}`}),t.jsxs("div",{className:`relative w-40 h-32 bg-indigo-50 border-2 border-indigo-200 rounded-xl flex flex-col items-center justify-center transition-all duration-300
                 ${n===3?"ring-4 ring-emerald-100 scale-105 shadow-xl z-10 border-indigo-400":""}
            `,children:[t.jsxs("div",{className:"absolute -top-3 left-4 bg-white px-2 text-[10px] font-bold uppercase tracking-wider text-slate-500 flex items-center gap-1 border border-slate-100 rounded-full shadow-sm",children:["Head",t.jsx(qe,{className:"w-3 h-3 text-yellow-500 fill-yellow-500"})]}),t.jsx("span",{className:"text-base font-bold text-indigo-700",children:"Classifier"}),t.jsx("span",{className:"text-[10px] text-slate-500 mt-1 bg-white/50 px-2 rounded",children:"FC Layer (26)"}),n===3&&t.jsxs("div",{className:"absolute bottom-3 w-full flex justify-center gap-1",children:[t.jsx("span",{className:"block w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce"}),t.jsx("span",{className:"block w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-75"}),t.jsx("span",{className:"block w-1.5 h-1.5 bg-indigo-400 rounded-full animate-bounce delay-150"})]})]}),t.jsx(H,{className:`text-slate-300 transition-colors duration-300 ${n===3?"text-emerald-500":""}`}),t.jsxs("div",{className:`flex flex-col items-center gap-2 transition-all duration-300 ${n===4?"scale-110 opacity-100":"opacity-40"}`,children:[t.jsx("div",{className:`w-24 h-24 rounded-xl border-2 flex flex-col items-center justify-center text-center p-1 shadow-sm
                    ${n===4?`${o.bg} ${o.border} ${o.ring} ring-4 shadow-lg`:"bg-slate-50 border-slate-200"}
                `,children:n===4?t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`text-xs font-bold ${o.color} mb-1`,children:o.cnCat}),t.jsx("span",{className:"text-sm font-bold text-slate-800",children:o.cn}),t.jsx("span",{className:"text-[9px] text-slate-400 mt-1",children:o.label})]}):t.jsx("span",{className:"text-xs text-slate-400 font-bold",children:"Waiting..."})}),t.jsx("span",{className:`text-xs font-mono ${n===4?"text-emerald-600 font-bold":"text-slate-400"}`,children:"Prediction"})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-xl overflow-hidden shadow-lg border border-slate-800 flex flex-col h-full min-h-[300px]",children:[t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 bg-slate-800 border-b border-slate-700",children:[t.jsx($e,{className:"w-4 h-4 text-emerald-400"}),t.jsx("span",{className:"text-xs font-mono text-slate-300",children:"inference.py"}),r&&t.jsx("span",{className:"ml-auto text-[10px] bg-emerald-900 text-emerald-300 px-2 py-0.5 rounded animate-pulse",children:"Running..."})]}),t.jsx("div",{className:"flex-1 p-4 font-mono text-xs overflow-y-auto",children:u.map(x=>t.jsxs("div",{className:`flex py-1.5 px-1 rounded transition-colors duration-200 ${x.highlight?"bg-emerald-900/40 border-l-2 border-emerald-500":"border-l-2 border-transparent"}`,children:[t.jsx("span",{className:"w-6 text-slate-600 text-right mr-3 select-none",children:x.num}),t.jsx("pre",{style:{paddingLeft:`${x.indent*12}px`},className:`${x.highlight?"text-emerald-200":"text-slate-400"}`,children:x.code})]},x.num))}),t.jsxs("div",{className:"p-3 bg-slate-800/50 border-t border-slate-700 text-[10px] text-slate-400 font-mono",children:[n===0&&"Ready to start MindSpore inference session...",n===1&&`> Processing input: ${o.cn} (${o.label})...`,n===2&&"> MobileNetV2 Backbone extracting features...",n===3&&"> Classification Head calculating probabilities...",n===4&&`> Result: Class '${o.cn}' (Confidence: ${(90+Math.random()*9).toFixed(1)}%)`]})]})]})]})};function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Q.apply(null,arguments)}var Me=e=>{var{cx:a,cy:r,r:s,className:n}=e,l=te("recharts-dot",n);return U(a)&&U(r)&&U(s)?i.createElement("circle",Q({},je(e),ye(e),{className:l,cx:a,cy:r,r:s})):null},Kt=["points"];function pe(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function G(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?pe(Object(r),!0).forEach(function(s){Ft(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Ft(e,a,r){return(a=Ht(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Ht(e){var a=Ut(e,"string");return typeof a=="symbol"?a:a+""}function Ut(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},K.apply(null,arguments)}function Vt(e,a){if(e==null)return{};var r,s,n=Gt(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gt(e,a){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;r[s]=e[s]}return r}function Yt(e){var{option:a,dotProps:r,className:s}=e;if(i.isValidElement(a))return i.cloneElement(a,r);if(typeof a=="function")return a(r);var n=te(s,typeof a!="boolean"?a.className:""),l=r??{},{points:o}=l,c=Vt(l,Kt);return i.createElement(Me,K({},c,{className:n}))}function qt(e,a){return e==null?!1:a?!0:e.length===1}function Zt(e){var{points:a,dot:r,className:s,dotClassName:n,dataKey:l,baseProps:o,needClip:c,clipPathId:d,zIndex:u=ae.scatter}=e;if(!qt(a,r))return null;var x=Ne(r),p=tt(r),f=a.map((h,b)=>{var v,y,j=G(G(G({r:3},o),p),{},{index:b,cx:(v=h.x)!==null&&v!==void 0?v:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:l,value:h.value,payload:h.payload,points:a});return i.createElement(Yt,{key:"dot-".concat(b),option:r,dotProps:j,className:n})}),g={};return c&&d!=null&&(g.clipPath="url(#clipPath-".concat(x?"":"dots-").concat(d,")")),i.createElement(re,{zIndex:u},i.createElement(se,K({className:s},g),f))}function he(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function Y(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?he(Object(r),!0).forEach(function(s){Xt(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):he(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function Xt(e,a,r){return(a=Jt(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Jt(e){var a=Qt(e,"string");return typeof a=="symbol"?a:a+""}function Qt(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ea=e=>{var{point:a,childIndex:r,mainColor:s,activeDot:n,dataKey:l,clipPath:o}=e;if(n===!1||a.x==null||a.y==null)return null;var c={index:r,dataKey:l,cx:a.x,cy:a.y,r:4,fill:s??"none",strokeWidth:2,stroke:"#fff",payload:a.payload,value:a.value},d=Y(Y(Y({},c),Pe(n)),ye(n)),u;return i.isValidElement(n)?u=i.cloneElement(n,d):typeof n=="function"?u=n(d):u=i.createElement(Me,d),i.createElement(se,{className:"recharts-active-dot",clipPath:o},u)};function ta(e){var{points:a,mainColor:r,activeDot:s,itemDataKey:n,clipPath:l,zIndex:o=ae.activeDot}=e,c=we(at),d=rt();if(a==null||d==null)return null;var u=a.find(x=>d.includes(x.payload));return q(u)?null:i.createElement(re,{zIndex:o},i.createElement(ea,{point:u,childIndex:Number(c),mainColor:r,dataKey:n,activeDot:s,clipPath:l}))}var We=(e,a,r,s)=>ke(e,"xAxis",a,s),ze=(e,a,r,s)=>Ee(e,"xAxis",a,s),Be=(e,a,r,s)=>ke(e,"yAxis",r,s),Ke=(e,a,r,s)=>Ee(e,"yAxis",r,s),aa=ne([Se,We,Be,ze,Ke],(e,a,r,s,n)=>lt(e,"xAxis")?ue(a,s,!1):ue(r,n,!1)),ra=(e,a,r,s,n)=>n;function sa(e){return e.type==="line"}var na=ne([nt,ra],(e,a)=>e.filter(sa).find(r=>r.id===a)),la=ne([Se,We,Be,ze,Ke,na,aa,st],(e,a,r,s,n,l,o,c)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:x}=c;if(!(l==null||a==null||r==null||s==null||n==null||s.length===0||n.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:f}=l,g;if(f!=null&&f.length>0?g=f:g=d==null?void 0:d.slice(u,x+1),g!=null)return Ea({layout:e,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:n,dataKey:p,bandSize:o,displayedData:g})}});function ia(e){var a=Pe(e),r=3,s=2;if(a!=null){var{r:n,strokeWidth:l}=a,o=Number(n),c=Number(l);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=s),{r:o,strokeWidth:c}}return{r,strokeWidth:s}}var oa=["id"],da=["type","layout","connectNulls","needClip","shape"],ca=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)({}).hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},z.apply(null,arguments)}function fe(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);a&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,s)}return r}function E(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?fe(Object(r),!0).forEach(function(s){ua(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function ua(e,a,r){return(a=xa(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function xa(e){var a=ma(e,"string");return typeof a=="symbol"?a:a+""}function ma(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,a);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function le(e,a){if(e==null)return{};var r,s,n=pa(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pa(e,a){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(a.indexOf(s)!==-1)continue;r[s]=e[s]}return r}var ha=e=>{var{dataKey:a,name:r,stroke:s,legendType:n,hide:l}=e;return[{inactive:l,dataKey:a,type:n,color:s,value:_e(r,a),payload:e}]},fa=i.memo(e=>{var{dataKey:a,data:r,stroke:s,strokeWidth:n,fill:l,name:o,hide:c,unit:d,tooltipType:u}=e,x={dataDefinedOnItem:r,positions:void 0,settings:{stroke:s,strokeWidth:n,fill:l,dataKey:a,nameKey:void 0,name:_e(o,a),hide:c,type:u,color:s,unit:d}};return i.createElement(ut,{tooltipEntrySettings:x})}),Fe=(e,a)=>"".concat(a,"px ").concat(e-a,"px");function ga(e,a){for(var r=e.length%2!==0?[...e,0]:e,s=[],n=0;n<a;++n)s=[...s,...r];return s}var ba=(e,a,r)=>{var s=r.reduce((p,f)=>p+f);if(!s)return Fe(a,e);for(var n=Math.floor(e/s),l=e%s,o=a-e,c=[],d=0,u=0;d<r.length;u+=r[d],++d)if(u+r[d]>l){c=[...r.slice(0,d),l-u];break}var x=c.length%2===0?[0,o]:[o];return[...ga(r,n),...c,...x].map(p=>"".concat(p,"px")).join(", ")};function va(e){var{clipPathId:a,points:r,props:s}=e,{dot:n,dataKey:l,needClip:o}=s,{id:c}=s,d=le(s,oa),u=je(d);return i.createElement(Zt,{points:r,dot:n,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:u,needClip:o,clipPathId:a})}function ya(e){var{showLabels:a,children:r,points:s}=e,n=i.useMemo(()=>s==null?void 0:s.map(l=>{var o,c,d={x:(o=l.x)!==null&&o!==void 0?o:0,y:(c=l.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return E(E({},d),{},{value:l.value,payload:l.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[s]);return i.createElement(yt,{value:a?n:void 0},r)}function ge(e){var{clipPathId:a,pathRef:r,points:s,strokeDasharray:n,props:l}=e,{type:o,layout:c,connectNulls:d,needClip:u,shape:x}=l,p=le(l,da),f=E(E({},jt(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(a,")"):void 0,points:s,type:o,layout:c,connectNulls:d,strokeDasharray:n??l.strokeDasharray});return i.createElement(i.Fragment,null,(s==null?void 0:s.length)>1&&i.createElement(Nt,z({shapeType:"curve",option:x},f,{pathRef:r})),i.createElement(va,{points:s,clipPathId:a,props:l}))}function ja(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Na(e){var{clipPathId:a,props:r,pathRef:s,previousPointsRef:n,longestAnimatedLengthRef:l}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:u,animationDuration:x,animationEasing:p,animateNewValues:f,width:g,height:h,onAnimationEnd:b,onAnimationStart:v}=r,y=n.current,j=gt(o,"recharts-line-"),N=i.useRef(j),[C,A]=i.useState(!1),B=!C,L=i.useCallback(()=>{typeof b=="function"&&b(),A(!1)},[b]),T=i.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]),m=ja(s.current),O=i.useRef(0);N.current!==j&&(O.current=l.current,N.current=j);var $=O.current;return i.createElement(ya,{points:o,showLabels:B},r.children,i.createElement(bt,{animationId:j,begin:u,duration:x,isActive:d,easing:p,onAnimationEnd:L,onAnimationStart:T,key:j},w=>{var D=M($,m+$,w),R=Math.min(D,m),k;if(d)if(c){var Ve="".concat(c).split(/[,\s]+/gim).map(S=>parseFloat(S));k=ba(R,m,Ve)}else k=Fe(m,R);else k=c==null?void 0:String(c);if(w>0&&m>0&&(n.current=o,l.current=Math.max(l.current,R)),y){var Ge=y.length/o.length,ie=w===1?o:o.map((S,Ye)=>{var oe=Math.floor(Ye*Ge);if(y[oe]){var de=y[oe];return E(E({},S),{},{x:M(de.x,S.x,w),y:M(de.y,S.y,w)})}return f?E(E({},S),{},{x:M(g*2,S.x,w),y:M(h/2,S.y,w)}):E(E({},S),{},{x:S.x,y:S.y})});return n.current=ie,i.createElement(ge,{props:r,points:ie,clipPathId:a,pathRef:s,strokeDasharray:k})}return i.createElement(ge,{props:r,points:o,clipPathId:a,pathRef:s,strokeDasharray:k})}),i.createElement(vt,{label:r.label}))}function wa(e){var{clipPathId:a,props:r}=e,s=i.useRef(null),n=i.useRef(0),l=i.useRef(null);return i.createElement(Na,{props:r,clipPathId:a,previousPointsRef:s,longestAnimatedLengthRef:n,pathRef:l})}var Pa=(e,a)=>{var r,s;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(s=e.y)!==null&&s!==void 0?s:void 0,value:e.value,errorVal:Ae(e.payload,a)}};class Sa extends i.Component{render(){var{hide:a,dot:r,points:s,className:n,xAxisId:l,yAxisId:o,top:c,left:d,width:u,height:x,id:p,needClip:f,zIndex:g}=this.props;if(a)return null;var h=te("recharts-line",n),b=p,{r:v,strokeWidth:y}=ia(r),j=Ne(r),N=v*2+y,C=f?"url(#clipPath-".concat(j?"":"dots-").concat(b,")"):void 0;return i.createElement(re,{zIndex:g},i.createElement(se,{className:h},f&&i.createElement("defs",null,i.createElement(ht,{clipPathId:b,xAxisId:l,yAxisId:o}),!j&&i.createElement("clipPath",{id:"clipPath-dots-".concat(b)},i.createElement("rect",{x:d-N/2,y:c-N/2,width:u+N,height:x+N}))),i.createElement(ft,{xAxisId:l,yAxisId:o,data:s,dataPointFormatter:Pa,errorBarOffset:0},i.createElement(wa,{props:this.props,clipPathId:b}))),i.createElement(ta,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:C}))}}var He={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ae.line,type:"linear"};function ka(e){var a=Ie(e,He),{activeDot:r,animateNewValues:s,animationBegin:n,animationDuration:l,animationEasing:o,connectNulls:c,dot:d,hide:u,isAnimationActive:x,label:p,legendType:f,xAxisId:g,yAxisId:h,id:b}=a,v=le(a,ca),{needClip:y}=xt(g,h),j=mt(),N=pt(),C=Ce(),A=we(O=>la(O,g,h,C,b));if(N!=="horizontal"&&N!=="vertical"||A==null||j==null)return null;var{height:B,width:L,x:T,y:m}=j;return i.createElement(Sa,z({},v,{id:b,connectNulls:c,dot:d,activeDot:r,animateNewValues:s,animationBegin:n,animationDuration:l,animationEasing:o,isAnimationActive:x,hide:u,label:p,legendType:f,xAxisId:g,yAxisId:h,points:A,layout:N,height:B,width:L,left:T,top:m,needClip:y}))}function Ea(e){var{layout:a,xAxis:r,yAxis:s,xAxisTicks:n,yAxisTicks:l,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((u,x)=>{var p=Ae(u,o);if(a==="horizontal"){var f=xe({axis:r,ticks:n,bandSize:c,entry:u,index:x}),g=q(p)?null:s.scale(p);return{x:f,y:g,value:p,payload:u}}var h=q(p)?null:r.scale(p),b=xe({axis:s,ticks:l,bandSize:c,entry:u,index:x});return h==null||b==null?null:{x:h,y:b,value:p,payload:u}}).filter(Boolean)}function Ia(e){var a=Ie(e,He),r=Ce();return i.createElement(ot,{id:a.id,type:"line"},s=>i.createElement(i.Fragment,null,i.createElement(dt,{legendPayload:ha(a)}),i.createElement(fa,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType}),i.createElement(ct,{type:"line",id:s,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,hide:a.hide,isPanorama:r}),i.createElement(ka,z({},a,{id:s}))))}var F=i.memo(Ia,it);F.displayName="Line";var Ca=["axis"],Ue=i.forwardRef((e,a)=>i.createElement(wt,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ca,tooltipPayloadSearcher:Pt,categoricalChartProps:e,ref:a}));const _a=Array.from({length:20},(e,a)=>({epoch:a+1,accuracy:40+45*(1-Math.exp(-.3*a))+(Math.random()*2-1),phase:"Head Training"})),Aa=[...Array.from({length:10},(e,a)=>({epoch:a+1,accuracy:40+42*(1-Math.exp(-.3*a))+(Math.random()*2-1),phase:"Stage 1: Frozen Backbone"})),...Array.from({length:15},(e,a)=>({epoch:a+11,accuracy:82+14*(1-Math.exp(-.2*a))+(Math.random()*1.5-.75),phase:"Stage 2: Fine-tuning"}))],Oa=()=>{const[e,a]=i.useState(_.HEAD_ONLY),[r,s]=i.useState([]),[n,l]=i.useState(!1),o=()=>{l(!0),s([]);const d=e===_.HEAD_ONLY?_a:Aa;let u=0;const x=setInterval(()=>{if(u>=d.length){clearInterval(x),l(!1);return}s(p=>[...p,d[u]]),u++},100)},c=()=>{s([]),l(!1)};return t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:[t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"è®­ç»ƒç­–ç•¥æ¨¡æ‹Ÿå™¨"}),t.jsx("p",{className:"text-sm text-slate-500",children:"å¯¹æ¯”ä¸åŒ Fine-tuning ç­–ç•¥ä¸‹çš„å‡†ç¡®ç‡æ›²çº¿"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:e,onChange:d=>{a(d.target.value),c()},disabled:n,className:"bg-slate-50 border border-slate-300 text-slate-900 text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block p-2.5",children:[t.jsx("option",{value:_.HEAD_ONLY,children:"ç­–ç•¥ä¸€ï¼šä»…è®­ Head"}),t.jsx("option",{value:_.TWO_STEP,children:"ç­–ç•¥äºŒï¼šä¸¤æ­¥æ³• (Head + æ•´ç½‘)"})]}),t.jsxs("button",{onClick:o,disabled:n||r.length>0,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n||r.length>0?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[t.jsx(ee,{className:"w-4 h-4"})," å¼€å§‹è®­ç»ƒ"]}),t.jsx("button",{onClick:c,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors",title:"é‡ç½®",children:t.jsx(ve,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"h-[300px] w-full",children:t.jsx(Oe,{width:"100%",height:"100%",children:t.jsxs(Ue,{data:r,margin:{top:5,right:20,bottom:5,left:0},children:[t.jsx(De,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),t.jsx(Le,{dataKey:"epoch",label:{value:"Epoch (è½®æ•°)",position:"insideBottomRight",offset:-5},stroke:"#64748b"}),t.jsx(Te,{domain:[0,100],label:{value:"å‡†ç¡®ç‡ (%)",angle:-90,position:"insideLeft"},stroke:"#64748b"}),t.jsx(Re,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"4px"}}),t.jsx(F,{type:"monotone",dataKey:"accuracy",stroke:"#4f46e5",strokeWidth:3,dot:{r:3,fill:"#4f46e5"},activeDot:{r:6},animationDuration:300}),e===_.TWO_STEP&&t.jsx(Z,{x:10,stroke:"#f97316",strokeDasharray:"3 3",label:{position:"top",value:"Unfreeze",fill:"#f97316",fontSize:12}})]})})}),t.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:`p-4 rounded-lg border ${e===_.HEAD_ONLY?"bg-indigo-50 border-indigo-200":"bg-slate-50 border-slate-200"}`,children:[t.jsx("h4",{className:"font-bold text-sm mb-1",children:"ç­–ç•¥ä¸€ï¼šä»…è®­ Head"}),t.jsx("p",{className:"text-xs text-slate-600",children:"è®­ç»ƒæå¿«ï¼Œæ›²çº¿è¿…é€Ÿä¸Šå‡ä½†è¾ƒæ—©è¿›å…¥ç“¶é¢ˆï¼ˆçº¦ 85%ï¼‰ã€‚é€‚åˆå¿«é€ŸéªŒè¯æˆ–ç®€å•ä»»åŠ¡ã€‚"})]}),t.jsxs("div",{className:`p-4 rounded-lg border ${e===_.TWO_STEP?"bg-indigo-50 border-indigo-200":"bg-slate-50 border-slate-200"}`,children:[t.jsx("h4",{className:"font-bold text-sm mb-1",children:"ç­–ç•¥äºŒï¼šä¸¤æ­¥æ³•"}),t.jsx("p",{className:"text-xs text-slate-600",children:"å‰10è½®å†»ç»“Backboneå¿«é€Ÿæ”¶æ•›ã€‚ç¬¬11è½®è§£å†»ï¼ˆUnfreezeï¼‰ï¼Œåˆ©ç”¨é€šç”¨ç‰¹å¾+ä¸“å±ç‰¹å¾ï¼Œçªç ´ç“¶é¢ˆè¾¾åˆ°æ›´é«˜ç²¾åº¦ï¼ˆçº¦ 96%ï¼‰ã€‚"})]})]})]})},W=({title:e,icon:a,description:r,points:s,colorClass:n})=>t.jsx("div",{className:`bg-white rounded-xl shadow-md border overflow-hidden hover:shadow-lg transition-shadow duration-300 ${n}`,children:t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-white/80 shadow-sm",children:t.jsx(a,{className:"w-6 h-6"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:e})]}),t.jsx("p",{className:"text-sm text-slate-600 mb-4 leading-relaxed",children:r}),t.jsx("ul",{className:"space-y-2",children:s.map((l,o)=>t.jsxs("li",{className:"flex items-start gap-2 text-xs text-slate-700",children:[t.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-400 mt-1.5 flex-shrink-0"}),t.jsx("span",{children:l})]},o))})]})}),Da=()=>{var T;const[e,a]=i.useState(100),[r,s]=i.useState(20),[n,l]=i.useState(.1),[o,c]=i.useState("cosine"),[d,u]=i.useState(0),[x,p]=i.useState(!1),[f,g]=i.useState([]),h=i.useRef(null),b=0,v=.001,y=[{num:1,code:`def build_lr(total_steps=${e}, warmup=${r}):`,indent:0},{num:2,code:"lr_all_steps = []",indent:1},{num:3,code:"for i in range(total_steps):",indent:1},{num:4,code:"if i < warmup_steps:",indent:2},{num:5,code:"lr = lr_init + inc * (i + 1)  # Warmup",indent:3},{num:6,code:"else:",indent:2},{num:7,code:`if decay_type == '${o}':`,indent:3},{num:8,code:"lr = calc_decay(lr_max, i) # Decay",indent:4},{num:9,code:"lr_all_steps.append(lr)",indent:2},{num:10,code:"return lr_all_steps",indent:1}],N=(()=>{const m=[],O=r>0?(n-b)/r:0,$=e-r;for(let w=0;w<e;w++){let D;if(w<r)D=b+O*(w+1);else{const R=w-r;if(o==="cosine"){const k=.5*(1+Math.cos(Math.PI*R/$));D=(n-v)*k+v}else if(o==="square"){const k=1-R/$;D=(n-v)*(k*k)+v}else D=n}m.push({step:w,lr:Number(D.toFixed(5))})}return m})();i.useEffect(()=>{C()},[e,r,n,o]);const C=()=>{p(!1),h.current&&clearInterval(h.current),u(0),g([])},A=()=>{x?(p(!1),h.current&&clearInterval(h.current)):p(!0)};i.useEffect(()=>(x&&(h.current=window.setInterval(()=>{u(m=>m>=e-1?(p(!1),h.current&&clearInterval(h.current),m):m+1)},50)),()=>{h.current&&clearInterval(h.current)}),[x,e]),i.useEffect(()=>{g(N.slice(0,d+1))},[d,e,r,n,o]);const L=(()=>{if(d===0&&f.length===0)return[1,2];if(d>=e)return[10];const m=[3];return d<r?m.push(4,5):m.push(6,7,8),m.push(9),m})();return t.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-slate-200",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(J,{className:"w-6 h-6 text-emerald-600"}),"LR Scheduler å®éªŒå®¤"]}),t.jsxs("p",{className:"text-sm text-slate-500",children:["åŠ¨æ€æ¨¡æ‹Ÿ ",t.jsx("code",{className:"bg-slate-100 px-1 rounded",children:"build_lr"})," å‡½æ•°çš„æ‰§è¡Œè¿‡ç¨‹"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:A,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${x?"bg-amber-100 text-amber-700 hover:bg-amber-200":"bg-indigo-600 text-white hover:bg-indigo-700"}`,children:[x?t.jsx(Ze,{className:"w-4 h-4"}):t.jsx(ee,{className:"w-4 h-4"}),x?"æš‚åœ":"å¼€å§‹æ‰§è¡Œ"]}),t.jsx("button",{onClick:C,className:"p-2 text-slate-500 hover:text-slate-700 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",children:t.jsx(ve,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2 font-semibold text-slate-700 mb-4 border-b pb-2",children:[t.jsx($t,{className:"w-4 h-4"})," å‚æ•°è®¾ç½®"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:t.jsxs("span",{children:["Total Steps: ",e]})}),t.jsx("input",{type:"range",min:"50",max:"200",step:"10",value:e,onChange:m=>a(Number(m.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),t.jsxs("div",{children:[t.jsx("div",{className:"flex justify-between text-xs text-slate-500 mb-1",children:t.jsxs("span",{children:["Warmup Steps: ",r]})}),t.jsx("input",{type:"range",min:"0",max:"50",step:"5",value:r,onChange:m=>s(Number(m.target.value)),className:"w-full h-1.5 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-orange-500"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-xs text-slate-500 mb-1 block",children:"Decay Strategy"}),t.jsx("div",{className:"flex bg-white rounded border border-slate-200 p-0.5",children:["cosine","square","constant"].map(m=>t.jsx("button",{onClick:()=>c(m),className:`flex-1 text-xs py-1 rounded ${o===m?"bg-indigo-50 text-indigo-700 font-medium":"text-slate-500"}`,children:m},m))})]})]})]}),t.jsxs("div",{className:"bg-slate-900 rounded-lg overflow-hidden border border-slate-800 shadow-inner",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-slate-800 border-b border-slate-700",children:[t.jsx($e,{className:"w-3 h-3 text-slate-400"}),t.jsx("span",{className:"text-xs font-mono text-slate-300",children:"build_lr.py"})]}),t.jsx("div",{className:"p-3 font-mono text-xs overflow-x-auto",children:y.map(m=>t.jsxs("div",{className:`flex py-0.5 px-1 rounded transition-colors duration-150 ${L.includes(m.num)?"bg-indigo-500/30 text-white":"text-slate-500"}`,children:[t.jsx("span",{className:"w-6 text-slate-600 text-right mr-3 select-none",children:m.num}),t.jsx("pre",{style:{paddingLeft:`${m.indent*12}px`},className:`${L.includes(m.num)?"text-indigo-200":""}`,children:m.code})]},m.num))})]})]}),t.jsxs("div",{className:"lg:col-span-2 flex flex-col",children:[t.jsxs("div",{className:"flex-1 min-h-[350px] bg-slate-50 rounded-lg border border-slate-200 p-4 relative",children:[t.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white/90 backdrop-blur px-3 py-1.5 rounded-md border border-slate-200 shadow-sm text-xs font-mono",children:[t.jsxs("div",{children:["Step: ",t.jsx("span",{className:"font-bold text-indigo-600",children:d})," / ",e]}),t.jsxs("div",{children:["LR: ",t.jsx("span",{className:"font-bold text-emerald-600",children:((T=f[d])==null?void 0:T.lr.toFixed(6))||"0.000000"})]})]}),t.jsx(Oe,{width:"100%",height:"100%",children:t.jsxs(Ue,{data:N,margin:{top:20,right:20,bottom:20,left:0},children:[t.jsx(De,{strokeDasharray:"3 3",stroke:"#cbd5e1",vertical:!1}),t.jsx(Le,{dataKey:"step",hide:!0}),t.jsx(Te,{domain:[0,n*1.1],hide:!0}),t.jsx(Re,{content:()=>null}),t.jsx(F,{type:"monotone",dataKey:"lr",stroke:"#e2e8f0",strokeWidth:2,dot:!1,isAnimationActive:!1}),t.jsx(F,{type:"monotone",data:f,dataKey:"lr",stroke:"#4f46e5",strokeWidth:3,dot:!1,isAnimationActive:!1}),t.jsx(Z,{x:d,stroke:"#6366f1",strokeDasharray:"3 3"}),r>0&&t.jsx(Z,{x:r,stroke:"#f97316",strokeDasharray:"3 3",label:{value:"Warmup",position:"insideTopLeft",fill:"#f97316",fontSize:10}})]})})]}),t.jsxs("div",{className:"mt-4 p-3 bg-black text-green-400 font-mono text-xs rounded-lg h-24 overflow-y-auto shadow-inner border border-slate-800",children:[t.jsx("div",{className:"opacity-50",children:"# Training Log Output"}),f.slice(-3).reverse().map((m,O)=>t.jsxs("div",{children:["Step ",String(m.step).padStart(3,"0"),": LR = ",m.lr.toFixed(6),m.step<r?t.jsx("span",{className:"text-orange-400 ml-2",children:"[Warmup]"}):t.jsx("span",{className:"text-blue-400 ml-2",children:"[Decay]"})]},m.step)),d===0&&t.jsx("div",{children:"Ready to start..."})]})]})]})]})},Ra=()=>{const[e,a]=i.useState(P.STRUCTURE),r=[{id:P.STRUCTURE,label:"0. æ¨¡å‹ç»“æ„è§†çª—",icon:ce,desc:"Backbone & Head Visualization"},{id:P.TRAINING,label:"1. è®­ç»ƒç­–ç•¥æ¨¡æ‹Ÿ",icon:Xe,desc:"Head-Only vs Two-Step"},{id:P.LR_SCHEDULER,label:"2. å­¦ä¹ ç‡å®éªŒå®¤",icon:J,desc:"Warmup & Decay Strategy"},{id:P.CONCEPTS,label:"3. æ ¸å¿ƒæ¦‚å¿µç™¾ç§‘",icon:Je,desc:"Key Terminology"}],s=()=>{switch(e){case P.STRUCTURE:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("p",{className:"text-slate-600 bg-indigo-50 p-4 rounded-lg border border-indigo-100 text-sm",children:["ğŸ’¡ ",t.jsx("strong",{children:"å®éªŒæŒ‡å¼•ï¼š"})," æœ¬å®éªŒé’ˆå¯¹åƒåœ¾åˆ†ç±»ä»»åŠ¡ï¼ˆ4å¤§ç±»26å°ç±»ï¼‰ã€‚ç‚¹å‡»å³ä¾§â€œå¼€å§‹æ¨ç†â€ï¼Œè§‚å¯Ÿ MindSpore æ¨¡å‹å¦‚ä½•è¯†åˆ«å…·ä½“çš„åƒåœ¾ç‰©å“ï¼ˆå¦‚ç”µæ± ã€æ˜“æ‹‰ç½ç­‰ï¼‰ã€‚"]}),t.jsx(Bt,{})]});case P.TRAINING:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("p",{className:"text-slate-600 bg-indigo-50 p-4 rounded-lg border border-indigo-100 text-sm",children:["ğŸ’¡ ",t.jsx("strong",{children:"å®éªŒæŒ‡å¼•ï¼š"})," ä¸åŒçš„å¾®è°ƒç­–ç•¥å†³å®šäº†æ¨¡å‹çš„å¤©èŠ±æ¿ã€‚å°è¯•åˆ‡æ¢ç­–ç•¥ï¼Œè§‚å¯Ÿâ€œå…ˆå†»ç»“åè§£å†»ï¼ˆä¸¤æ­¥æ³•ï¼‰â€å¦‚ä½•åœ¨åæœŸçªç ´ç²¾åº¦ç“¶é¢ˆã€‚"]}),t.jsx(Oa,{})]});case P.LR_SCHEDULER:return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("p",{className:"text-slate-600 bg-indigo-50 p-4 rounded-lg border border-indigo-100 text-sm",children:["ğŸ’¡ ",t.jsx("strong",{children:"å®éªŒæŒ‡å¼•ï¼š"})," ",t.jsx("code",{children:"build_lr"})," å‡½æ•°æ˜¯æ§åˆ¶è®­ç»ƒèŠ‚å¥çš„å…³é”®ã€‚è°ƒèŠ‚ Warmup æ­¥æ•°å’Œ Decay ç­–ç•¥ï¼Œè§‚å¯Ÿå­¦ä¹ ç‡æ›²çº¿çš„å˜åŒ–è§„å¾‹ã€‚"]}),t.jsx(Da,{})]});case P.CONCEPTS:return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 animate-fadeIn pb-10",children:[t.jsx(W,{title:"MindSpore æ¡†æ¶",icon:be,colorClass:"border-blue-100 shadow-blue-100",description:"æœ€ä½³åŒ¹é… Ascendï¼ˆæ˜‡è…¾ï¼‰èŠ¯ç‰‡çš„å¼€æº AI è®¡ç®—æ¡†æ¶ã€‚",points:["æ”¯æŒå…¨åœºæ™¯ååŒï¼ˆç«¯ã€è¾¹ã€äº‘ï¼‰","è‡ªåŠ¨å¾®åˆ†ï¼Œé«˜æ•ˆæ‰§è¡Œ","å…¼å®¹ CPU/GPU/Ascend"]}),t.jsx(W,{title:"Backbone (é¢„è®­ç»ƒ)",icon:ce,colorClass:"border-sky-100 shadow-sky-100",description:"å¤ç”¨ ImageNet ä¸Šçš„ MobileNetV2ï¼Œé¿å…ä»é›¶è®­ç»ƒã€‚",points:["æå–é€šç”¨ç‰¹å¾ï¼ˆè¾¹ç¼˜ã€å½¢çŠ¶ï¼‰","èŠ‚çœå¤§é‡ç®—åŠ›å’Œæ—¶é—´","è§£å†³å°æ•°æ®é›†ï¼ˆåƒåœ¾åˆ†ç±»ï¼‰æ•°æ®ä¸è¶³é—®é¢˜"]}),t.jsx(W,{title:"Checkpoint (æ£€æŸ¥ç‚¹)",icon:Tt,colorClass:"border-emerald-100 shadow-emerald-100",description:"è®­ç»ƒè¿‡ç¨‹çš„â€œå¿«ç…§â€ï¼Œä¿å­˜äº†æ¨¡å‹å‚æ•°å’Œè®­ç»ƒçŠ¶æ€ã€‚",points:["è®­ç»ƒåæ¨ç†ï¼šç›´æ¥åŠ è½½ç”¨äºé¢„æµ‹","å¼‚å¸¸æ¢å¤ï¼šä¸­æ–­åæ¢å¤è®­ç»ƒè¿›åº¦","è¿ç§»å­¦ä¹ ï¼šåŠ è½½é¢„è®­ç»ƒæƒé‡"]}),t.jsx(W,{title:"Fine-tuning (å¾®è°ƒ)",icon:et,colorClass:"border-orange-100 shadow-orange-100",description:"å†»ç»“ Backboneï¼Œä»…è®­ç»ƒ 26 ç±»åƒåœ¾åˆ†ç±» Headã€‚",points:["å†»ç»“å‚æ•° requires_grad=False","ä»…æ›´æ–°å…¨è¿æ¥å±‚æƒé‡","é«˜æ•ˆé€‚é…ä¸‹æ¸¸ä»»åŠ¡"]}),t.jsx(W,{title:"Learning Rate (å­¦ä¹ ç‡)",icon:J,colorClass:"border-purple-100 shadow-purple-100",description:"æ§åˆ¶æ¨¡å‹å­¦ä¹ æ­¥ä¼çš„å…³é”®è¶…å‚æ•°ã€‚",points:["Warmupï¼šåˆæœŸä½LRå¸®åŠ©ç¨³å®šå¯åŠ¨","Decayï¼šCosineè¡°å‡å¸®åŠ©ç²¾ç»†æ”¶æ•›","é˜²æ­¢æ¢¯åº¦çˆ†ç‚¸æˆ–é™·å…¥å±€éƒ¨æœ€ä¼˜"]})]});default:return null}},n=r.find(l=>l.id===e);return t.jsxs("div",{className:"flex h-screen bg-slate-50 text-slate-900 overflow-hidden font-sans",children:[t.jsxs("aside",{className:"w-72 bg-white border-r border-slate-200 flex flex-col shadow-lg z-20 flex-shrink-0",children:[t.jsx("div",{className:"p-6 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center text-white shadow-emerald-200 shadow-md",children:t.jsx(X,{className:"w-6 h-6"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-bold text-lg text-slate-800 tracking-tight leading-none",children:"åƒåœ¾åˆ†ç±» Lab"}),t.jsx("span",{className:"text-[10px] text-slate-500 font-medium uppercase tracking-wider",children:"MindSpore Experiment"})]})]})}),t.jsx("nav",{className:"flex-1 overflow-y-auto py-6 px-4 space-y-2",children:r.map(l=>t.jsxs("button",{onClick:()=>a(l.id),className:`w-full text-left flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-200 group relative
                ${e===l.id?"bg-emerald-600 text-white shadow-md shadow-emerald-200":"text-slate-600 hover:bg-slate-50 hover:text-slate-900 border border-transparent hover:border-slate-100"}
              `,children:[t.jsx(l.icon,{className:`w-5 h-5 flex-shrink-0 ${e===l.id?"text-emerald-100":"text-slate-400 group-hover:text-emerald-500"}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:`font-medium text-sm truncate ${e===l.id?"text-white":"text-slate-700"}`,children:l.label}),t.jsx("div",{className:`text-[11px] truncate mt-0.5 ${e===l.id?"text-emerald-200":"text-slate-400 group-hover:text-slate-500"}`,children:l.desc})]}),e===l.id&&t.jsx(Qe,{className:"w-4 h-4 text-emerald-300"})]},l.id))}),t.jsx("div",{className:"p-4 border-t border-slate-100 bg-slate-50/50",children:t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white border border-slate-200 rounded-lg",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),t.jsx("span",{className:"text-xs font-mono text-slate-500",children:"MindSpore Ready"})]})})]}),t.jsx("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:t.jsxs("div",{className:"flex-1 overflow-y-auto p-8 scroll-smooth bg-slate-50/80 relative",children:[t.jsxs("div",{className:"max-w-6xl mx-auto min-h-full",children:[t.jsxs("div",{className:"mb-8 animate-fadeIn",children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 mb-2 flex items-center gap-3",children:[n&&t.jsx(n.icon,{className:"w-8 h-8 text-emerald-600"}),n==null?void 0:n.label.split(" ")[1]]}),t.jsxs("p",{className:"text-slate-500 max-w-3xl leading-relaxed",children:[e===P.STRUCTURE&&"æ·±å…¥ç†è§£ MindSpore æ¡†æ¶ä¸‹çš„ MobileNetV2 ç»“æ„ã€‚é€šè¿‡å¯è§†åŒ–äº¤äº’ï¼Œè§‚å¯Ÿæ¨¡å‹å¦‚ä½•ä»å›¾åƒä¸­æå–ç‰¹å¾ï¼Œå¹¶è¯†åˆ« 26 ç±»ç”Ÿæ´»åƒåœ¾ã€‚",e===P.TRAINING&&"å¯¹æ¯” Head-Only ä¸ Fine-Tuning ç­–ç•¥çš„æ•ˆæœã€‚ç†è§£ä¸ºä»€ä¹ˆåœ¨å°æ•°æ®é›†ï¼ˆåƒåœ¾åˆ†ç±»ï¼‰ä¸Šï¼Œå…ˆå†»ç»“ Backbone æ˜¯æœ€é«˜æ•ˆçš„ç­–ç•¥ã€‚",e===P.LR_SCHEDULER&&"åŠ¨æ€è¿è¡Œ build_lr å‡½æ•°ã€‚è°ƒèŠ‚ Warmup æ­¥æ•°å’Œ Decay ç­–ç•¥ï¼Œç›´è§‚æ„Ÿå—å­¦ä¹ ç‡å¦‚ä½•éšè®­ç»ƒæ­¥æ•°åŠ¨æ€è°ƒæ•´ã€‚",e===P.CONCEPTS&&"æŒæ¡ MindSpore å®éªŒä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼šä» Checkpoint æœºåˆ¶åˆ°é¢„è®­ç»ƒæ¨¡å‹çš„è¿ç§»å­¦ä¹ åŸç†ã€‚"]})]}),t.jsx("div",{className:"animate-fadeIn",children:s()})]}),t.jsx("div",{className:"h-12"})]})})]})};export{Ra as default};
